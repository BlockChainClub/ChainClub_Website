<div class="row">
  <div class="col-md-9">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title"><%= @topic.title %></h3>
        <p>本文由 <%= @topic.user.display_name %> · 发布于<%= @topic.created_at %> · 最后由XX回复于天前 · 1281次阅读</p>
        <p>点击作者的名字可以到达作者的主页，作者头像置于右方</p>
      </div>
      <div class="panel-body">

        <div class="col-md-12">
          <div class="group">
            <%= link_to("直接回答", new_topic_answer_path(@topic), class: "btn btn-default pull-right")%>
            <% if current_user && current_user == @topic.user %>
              <%= link_to("更新问题", edit_topic_path(@topic), class: "btn btn-primary pull-right")%>
            <% end %>
          </div>
          <h2><%= @topic.title %></h2>
          <p><%= @topic.content %></p>
        </div>

        <table class="table">
          <thead>
           <tr>
              <th>内容</th>
              <th>发表者</th>
              <th>发表时间</th>
            </tr>
          </thead>
          <tbody>
            <% @answers.each do |answer| %>
              <tr>
                <td><%= answer.content %></td>
                <td><%= answer.user.email %></td>
                <td><%= answer.created_at %></td>
                <td>
                    <% if current_user && current_user == answer.user %>
                    <%= link_to("Edit", edit_topic_answer_path(@topic,answer), class: "btn btn-sm btn-default")%>
                    <%= link_to("Delete", topic_answer_path(@topic,answer),    class: "btn btn-sm btn-default", 
                                method: :delete, data: { confirm: "Are you sure?" } )%>
                    <% end %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>

        <div class="text-center">
          <%= will_paginate @answers %>
        </div>
      </div>  
    </div> 
  </div>     
        
        
  <div class="sidebar col-md-3">
    <%= render "sidebar_for_topic_show" %>
  </div>
</div>  